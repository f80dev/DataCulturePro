<div class="mainform" style="text-align: left !important;margin: 5px;font-size: large;">
  <br>
  <table style="padding: 0px;margin:0px;width: 100%;" *ngIf="profil">
    <tr style="width: 100%;">
      <td *ngIf="profil?.public_photo" style="width: 150px;">
        <div style=";text-align: center;object-fit: cover;" >
          <img [src]="profil?.photo" style="max-width:120px;height:100%;border-radius: 10px;" class="mat-elevation-z8">
        </div>
      </td>

      <td>
        <div style="font-size: 2em ;font-weight: lighter;">
          {{profil?.firstname+" "+profil?.lastname}}
          <mat-icon title="Partager ce profil"
                    (click)="share()"
                    style="cursor: pointer;">
            share
          </mat-icon>
        </div>
        <br>
        <table style="border-spacing: 5px;">
          <tr>
          <td>FEMIS Promotion&nbsp;&nbsp;&nbsp;&nbsp;</td><td>{{profil?.degree_year}}</td>
            <td>
              <mat-icon style="font-size: small;cursor: pointer;"
                        (click)="router.navigate(['search'],{queryParams:{query:profil.degree_year}})"
                        [title]="'Composition de la promotion '+profil.degree_year">help</mat-icon>
            </td>
          </tr>

          <tr><td>Département</td><td>{{profil?.department}}</td><td><mat-icon style="font-size: small;cursor: pointer;"
                                                                               [title]="'En savoir plus sur le département '+profil.department+' de la FEMIS'">help</mat-icon></td></tr>

          <tr *ngIf="profil.works.length>0"><td>Expériences</td><td>{{profil.expe}}</td></tr>
          <tr *ngIf="profil.works.length>0"><td></td><td>{{profil.works.length}} expériences référencées</td></tr>
          <tr *ngIf="profil.awards?.length>0"><td></td><td>{{profil.awards.length}} disctinctions</td></tr>
        </table>
        <br>


        <div *ngIf="profil?.links?.length>0">
          <br>
          <small>Voir mon profil sur :</small>
          <div *ngFor="let link of profil?.links" style="max-width: 400px;margin:1%;display: inline-block;">
            <a [href]="link.url" target="_blank">{{link.text}}</a>&nbsp;&nbsp;
          </div>
        </div>
      </td>
      <td style="width:30px;margin:5px;text-align: center;vertical-align: text-top;">

      </td>
    </tr>
  </table>

  <app-hourglass [message]="message"></app-hourglass>

  <!--  Travaux nouvelle version -->
  <div style="display: inline-block;width:95%;max-width:600px;text-align: center;" *ngIf="message.length==0">
    <br>Expériences<br><br>
    <mgl-timeline [mobileWidthThreshold]="200"
                  [toggle]="false"
                  [alternate]="false"
                  side="right"
                  style="color:black"
                  [focusOnOpen]="true">

      <mgl-timeline-entry *ngFor="let wrk of items">

        <mgl-timeline-entry-header>
          {{wrk.pow.title}}<br>
          <span style="font-size: x-small">{{wrk.pow.nature}}/{{wrk.pow.category}}</span>
        </mgl-timeline-entry-header>
        <mgl-timeline-entry-content style="font-size: small;line-height: 85%;">
          {{wrk.job}}<br>
          <small>
            <a [href]="wrk.pow.link[0].url" target="_blank" class="app-link">
              {{wrk.pow.link[0].text.replace('auto:','')}}
            </a>
          </small>
        </mgl-timeline-entry-content>
         <mgl-timeline-entry-dot [size]="40" style="color:red;"
                                 expandAnimationTiming="200ms ease"
                                 collapseAnimationTiming="100ms ease"
                                 >
         </mgl-timeline-entry-dot>
        <mgl-timeline-entry-side *ngIf="wrk.show_year" style="font-size: 1.8em;text-align: right;color: white;">
          <br>{{wrk.pow.year}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </mgl-timeline-entry-side>
      </mgl-timeline-entry>
    </mgl-timeline>
  </div>


  <!--  Travaux old version -->
  <!--  <div *ngIf="profil?.works?.length>0" style="width: 100%;text-align: center;margin:0px;">-->
  <!--    <br><br>Expériences<br><br>-->
  <!--    <div class="wrap-list" style="width: 100%;">-->
  <!--      <app-work *ngFor="let wrk of works"-->
  <!--                [work]="wrk"-->
  <!--                style="margin:5px;"-->
  <!--                maxwidth="450px"-->
  <!--                width="350px"-->
  <!--                minheight="100px"-->
  <!--                height="auto"-->
  <!--                backgroundColor="#1c1a1a">-->
  <!--        <br>-->

  <!--          <img  *ngFor="let a of wrk.pow.awards"-->
  <!--                src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/282/trophy_1f3c6.png"-->
  <!--                style="width: 35px;display: inline-block;margin:3px;cursor: pointer"-->
  <!--                (click)="open_price(a,wrk.pow.title)"-->
  <!--                [title]="a.title+': '+a.description+'('+a.year+')'"-->
  <!--               >-->

  <!--      </app-work>-->
  <!--    </div>-->
  <!--  </div>-->

</div>
